<div class="container-fluid">
  <div class="card">
    <div class="card-header">
      <div>
        <h6 class="title">Asset Deallocation Requests</h6>
      </div>
    </div>

    <div class="card-content">
      <!-- <div class="resignation-list">
        <div class="row">
          <div class="resignation-card ">
            <div *ngIf="resignationApplicationArrayComplete.length>=0" class="resignation-body">
              <span class="bg-blue">{{resignationApplicationArrayComplete.length}}</span>
              <h2>All</h2>
            </div>
          </div>
          <div class="resignation-card">
            <div *ngIf="resignationApplicationArrayComplete.length>=0" class="resignation-body">
              <span class="bg-orange">{{pendingCount}}</span>
              <h2>Pending</h2>
            </div>
          </div>
          <div class="resignation-card">
            <div *ngIf="resignationApplicationArrayComplete.length>=0" class="resignation-body">
              <span class="bg-green">{{approvedCount}}</span>
              <h2>Approved</h2>
            </div>
          </div>
        </div>
      </div> -->



      <div class="row">
        <div class="col-md-8 offset-md-8"></div>
        <div class="col-md-4">
          <div class="searchBox" style="text-align: right">
            <div style="text-align: right">
              <i class="fa fa-search"></i>
              <input type="text" pInputText size="50" placeholder="Search"
                (input)="dt1.filterGlobal($event.target.value, 'contains')" style="width:auto">
            </div>
          </div>
        </div>
      </div>
      <p-table #dt1 [columns]="displayedColumns" [value]="applicationList" [rows]="5" [paginator]="true" [pageLinks]="5"
        [rowsPerPageOptions]="[5,10,20]" exportFilename="Employee_Report" [resizableColumns]="true" [autoLayout]="true"
        [responsive]="true">
        <ng-template pTemplate="header" let-columns>
          <tr>
            <th *ngFor="let col of columns" [pSortableColumn]="col.field">
              {{col.header}}
              <p-sortIcon [field]="col.field"></p-sortIcon>
            </th>
          </tr>
          <tr>
            <th *ngFor="let col of columns" [ngSwitch]="col.field">
              <p-multiSelect *ngSwitchCase="'location'" appendTo="body" defaultLabel="All" [options]="allLocation"
                [style]="{'width':'100%'}" (onChange)="dt1.filter($event.value, col.field, 'in')"></p-multiSelect>
              <p-multiSelect *ngSwitchCase="'band'" appendTo="body" defaultLabel="All" [options]="allBand"
                [style]="{'width':'100%'}" (onChange)="dt1.filter($event.value, col.field, 'in')">
              </p-multiSelect>
              <p-multiSelect *ngSwitchCase="'department'" appendTo="body" defaultLabel="All" [options]="allDepartment"
                [style]="{'width':'100%'}" (onChange)="dt1.filter($event.value, col.field, 'in')"></p-multiSelect>
              <p-multiSelect *ngSwitchCase="'designation'" appendTo="body" defaultLabel="All" [options]="allDesignation"
                [style]="{'width':'100%'}" (onChange)="dt1.filter($event.value, col.field, 'in')"></p-multiSelect>
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-car let-columns="columns">
          <tr>
            <td *ngFor="let col of columns">
              <div *ngIf="col.field!='action' && col.field!='raisedOn'">{{car[col.field]}}</div>
              <div *ngIf="col.field!='action' && col.field=='raisedOn'">{{car[col.field] | date:'dd/MM/yyyy' }}
              </div>
              <div class="mat-cell" *ngIf="col.field=='action'">
                <div class=" mat-element-icon">
                  <i *ngIf="col.field=='action' && car.resignationStatus!='Approved'" 
                  class="fa fa-check" matTooltip="Mark Asset Deallocation Complete" 
                    (click)="openApproveRequestDialog(car)" style="color:green;"></i>
                </div>
              </div>

            </td>
          </tr>
        </ng-template>
      </p-table>
      <!-- <div class="table-responsive example-container mat-elevation-z8">
        <mat-table #table [dataSource]="dataSource">

          <ng-container matColumnDef="empName">
            <mat-header-cell *matHeaderCellDef> empName </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.empName}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="resignationDate">
            <mat-header-cell *matHeaderCellDef> Raised On </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.raisedOn | date:'dd/MM/yyyy'}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="l1Manager">
            <mat-header-cell *matHeaderCellDef>L1 Manager </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.l1Supervisor}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="l2Manager">
            <mat-header-cell *matHeaderCellDef>L2 Manager </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.l2Supervisor}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="HRManager">
            <mat-header-cell *matHeaderCellDef>HR Manager </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.hrmanagerSupervisor}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="status">
            <mat-header-cell *matHeaderCellDef>Status</mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.resignationStatus}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="action">
            <mat-header-cell *matHeaderCellDef> Action </mat-header-cell>
            <mat-cell *matCellDef="let element">
              <i class="fa fa-check" matTooltip="Mark Asset Deallocation Complete"
                (click)="openApproveRequestDialog(element)" style="color:green;"></i>
            </mat-cell>
          </ng-container>
          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>
        <mat-paginator #paginator [length]="100" [pageSize]="5" [pageSizeOptions]="[1, 2, 5, 10, 25, 100]">
        </mat-paginator>
      </div> -->
    </div>

  </div>
</div>
